# Python Snippet Generator — документация по функциям

## `activate(context: vscode.ExtensionContext)`

**Активирует расширение при запуске VS Code.** Регистрирует команду, инициирующую процесс вставки сниппетов.

* **Сигнатура:** `activate(context: vscode.ExtensionContext): void`

* **Параметры:**
  * `context`: Контекст расширения, предоставляемый средой VS Code. Используется для управления жизненным циклом расширения и подписок.

* **Что делает:**
  * Выводит в консоль сообщение об активации расширения.
  * Регистрирует команду `python-snippet-generator.insertSnippet`, которая запускает процесс выбора сниппета.
  * Добавляет зарегистрированную команду в коллекцию `context.subscriptions` для корректного освобождения ресурсов при деактивации.

* **Возвращаемое значение:** ничего не возвращает.

---

## `showSnippetPicker(): Promise<void>`

**Асинхронная функция, показывающая диалог выбора типа сниппета через Quick Pick.**

* **Сигнатура:** `async function showSnippetPicker(): Promise<void>`

* **Возвращаемое значение:** `Promise<void>`

* **Что делает:**
  * Определяет набор опций сниппетов с заголовками и описаниями.
  * Отображает Quick Pick с подсказкой.
  * Обрабатывает выбор пользователя и вызывает вставку выбранного сниппета.
  * Если выбор отменён, возвращается без действий.

* **Взаимодействие с другими компонентами:**
  * При выборе типа сниппета вызывает `insertSelectedSnippet(selectedSnippet.label)`.

---

## `insertSelectedSnippet(snippetType: string): Promise<void>`

**Асинхронная функция вставки выбранного сниппета в активный редактор.**

* **Сигнатура:** `async function insertSelectedSnippet(snippetType: string): Promise<void>`

* **Параметры:**
  * `snippetType`: тип сниппета (например, "if", "for", "class" и т. д.).

* **Возвращаемое значение:** `Promise<void>`

* **Что делает:**
  * Получает активный текстовый редактор. Если его нет — выводит сообщение об ошибке.
  * В зависимости от `snippetType` формирует текст сниппета. В некоторых случаях запрашивает дополнительные параметры у пользователя через окна ввода.
  * Вставляет сформированный текст сниппета в текущее положение курсора.
  * Перемещает курсор в удобное место внутри вставленного кода (например, после условия, после оператора pass, и т. д.).
  * Сообщает об успешной вставке через информационное сообщение.
  * Обрабатывает и сообщает об ошибках при вставке.

* **Важные детали реализации:**
  * Для некоторых типов сниппетов предусмотрены дополнительные диалоги ввода:
    * `for`: имя переменной цикла и итерируемый объект.
    * `while`: условие цикла.
    * `function`: имя функции и параметры.
    * `class`: имя класса и родительский класс.
    * `with`: контекстный менеджер и переменная.

* **Возвращаемое значение:** ничего не возвращает напрямую, но выполняет асинхронную операцию вставки и уведомления.

---

## `deactivate()`

**Деактивация расширения.**

* **Сигнатура:** `export function deactivate(): void`

* **Что делает:**
  * Текущая реализация не выполняет дополнительных действий при деактивации.

* **Возвращаемое значение:** ничего не возвращает.